{"version":3,"sources":["webpack:///webpack/bootstrap 8e6e5640a3e8ea47838a","webpack:///external \"path\"","webpack:///./src/server/server.js","webpack:///external \"express\"","webpack:///external \"winston\"","webpack:///external \"compression\"","webpack:///external \"express-winston\""],"names":["port","root","path","normalize","app","express","use","expressWinston","logger","transports","winston","Console","json","colorize","meta","msg","expressFormat","ignoreRoute","req","res","compress","get","next","moduleRoot","__dirname","options","dotfiles","headers","Date","now","sendFile","err","static","listen","console","log","require"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,sB;;;;;;;;;;;;;;kBCqBe,UAASA,IAAT,EAAeC,IAAf,EAAqB;AAClCA,SAAOC,KAAKC,SAAL,CAAeF,IAAf,CAAP;AACA,MAAIG,MAAMC,SAAV;;AAEAD,MAAIE,GAAJ,CAAQC,eAAeC,MAAf,CAAsB;AAC5BC,gBAAY,CACV,IAAIC,QAAQD,UAAR,CAAmBE,OAAvB,CAA+B;AAC7BC,YAAM,KADuB;AAE7BC,gBAAU;AAFmB,KAA/B,CADU,CADgB;AAO5BC,UAAM,IAPsB;AAQ5BC,SAAK,iCARuB;AAS5BC,mBAAe,IATa;AAU5BH,cAAU,IAVkB;AAW5BI,iBAAa,qBAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC/B,aAAO,KAAP;AACD;AAb2B,GAAtB,CAAR;;AAgBAf,MAAIE,GAAJ,CAAQc,UAAR;;AAEAhB,MAAIiB,GAAJ,CAAQ,cAAR,EAAwB,UAACH,GAAD,EAAMC,GAAN,EAAWG,IAAX,EAAoB;AAC1C,QAAIC,aAAarB,KAAKC,SAAL,CAAeqB,YAAY,MAA3B,CAAjB;;AAEA,QAAIC,UAAU;AACZxB,YAAMsB,UADM;AAEZG,gBAAU,MAFE;AAGZC,eAAS;AACP,uBAAeC,KAAKC,GAAL,EADR;AAEP,kBAAU;AAFH;AAHG,KAAd;;AASAV,QAAIW,QAAJ,CAAa,aAAb,EAA4BL,OAA5B,EAAqC,UAACM,GAAD,EAAS;AAC5C,UAAIA,GAAJ,EAAS;AACPT,aAAKS,GAAL;AACD;AACF,KAJD;AAKD,GAjBD;;AAmBA3B,MAAIE,GAAJ,CAAQD,QAAQ2B,MAAR,CAAe/B,IAAf,CAAR;;AAEA,SAAOG,IAAI6B,MAAJ,CAAWjC,IAAX,EAAiB,YAAM;AAC5BkC,YAAQC,GAAR,CAAY,qCAAqCnC,IAAjD;AACD,GAFM,CAAP;AAGD,C;;AAnED;;;;;;;;AAQA;AACA;AACA;AACA;AACA;;;AAGA,IAAIK,UAAU,mBAAA+B,CAAQ,CAAR,CAAd;AACA,IAAI1B,UAAU,mBAAA0B,CAAQ,CAAR,CAAd;AACA,IAAIhB,WAAW,mBAAAgB,CAAQ,CAAR,CAAf;AACA,IAAI7B,iBAAiB,mBAAA6B,CAAQ,CAAR,CAArB;AACA,IAAIlC,OAAO,mBAAAkC,CAAQ,CAAR,CAAX,C;;;;;;;ACnBA,yB;;;;;;ACAA,yB;;;;;;ACAA,6B;;;;;;ACAA,iC","file":"server/server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8e6e5640a3e8ea47838a","module.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 0\n// module chunks = 0 1","/**\n * Gameloop server\n *\n * Starts a node webserver for serving the gameloop content.\n *\n * @type {createServer|exports|module.exports}\n */\n\n// import path from \"path\";\n// import express from \"express\";\n// import winston from \"winston\";\n// import compress from \"compression\";\n// import expressWinston from \"express-winston\";\n\n\nvar express = require(\"express\");\nvar winston = require(\"winston\");\nvar compress = require(\"compression\");\nvar expressWinston = require(\"express-winston\");\nvar path = require(\"path\");\n\nexport default function(port, root) {\n  root = path.normalize(root);\n  let app = express();\n\n  app.use(expressWinston.logger({\n    transports: [\n      new winston.transports.Console({\n        json: false,\n        colorize: true\n      })\n    ],\n    meta: true,\n    msg: \"HTTP {{req.method}} {{req.url}}\",\n    expressFormat: true,\n    colorize: true,\n    ignoreRoute: function (req, res) {\n      return false;\n    }\n  }));\n\n  app.use(compress());\n\n  app.get(\"/gameloop.js\", (req, res, next) => {\n    let moduleRoot = path.normalize(__dirname + \"/../\");\n\n    let options = {\n      root: moduleRoot,\n      dotfiles: 'deny',\n      headers: {\n        'x-timestamp': Date.now(),\n        'x-sent': true\n      }\n    };\n\n    res.sendFile('gameloop.js', options, (err) => {\n      if (err) {\n        next(err);\n      }\n    });\n  });\n\n  app.use(express.static(root));\n\n  return app.listen(port, () => {\n    console.log('Gameloop server running on port ' + port);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/server.js","module.exports = express;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 3\n// module chunks = 0","module.exports = winston;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 4\n// module chunks = 0","module.exports = compression;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 5\n// module chunks = 0","module.exports = express-winston;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-winston\"\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}